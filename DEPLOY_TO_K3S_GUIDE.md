# à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£ Deploy "All Check List Dashboard" à¸‚à¸¶à¹‰à¸™ K3s (à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ ArgoCD)

à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰à¸ˆà¸°à¸­à¸˜à¸´à¸šà¸²à¸¢à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸™à¸³ Web Application à¸™à¸µà¹‰à¹„à¸›à¸£à¸±à¸™à¸šà¸™ K3s à¹‚à¸”à¸¢à¸”à¸¶à¸‡ Configuration (Manifests) à¸•à¸£à¸‡à¸ˆà¸²à¸ GitHub

---

## ðŸ› ï¸ à¸ à¸²à¸žà¸£à¸§à¸¡
1.  **Code & Config**: à¹€à¸à¹‡à¸šà¸—à¸µà¹ˆ GitHub (`Khomsan146/allexcel` Branch `pord`)
2.  **Image**: Build à¹à¸¥à¸° Import à¹€à¸‚à¹‰à¸² K3s
3.  **App**: à¹ƒà¸Šà¹‰à¸„à¸³à¸ªà¸±à¹ˆà¸‡ `kubectl` à¸”à¸¶à¸‡à¹„à¸Ÿà¸¥à¹Œà¸ˆà¸²à¸ GitHub à¸¡à¸² Deploy

---

## à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: à¹€à¸•à¸£à¸µà¸¢à¸¡ Docker Image ðŸ³

à¸à¹ˆà¸­à¸™à¸£à¸±à¸™ K3s à¸•à¹‰à¸­à¸‡à¸¡à¸µ Image à¸‚à¸­à¸‡à¹à¸­à¸›à¹€à¸£à¸²à¸à¹ˆà¸­à¸™

1.  **Build Image:**
    *(à¸•à¸±à¹‰à¸‡ Tag à¹€à¸›à¹‡à¸™à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™ à¹€à¸Šà¹ˆà¸™ v1, v2)*
    ```bash
    docker build -t link-dashboard:v1 .
    ```

2.  **à¸ªà¹ˆà¸‡ Image à¹€à¸‚à¹‰à¸² K3s:**
    *(à¸–à¹‰à¸²à¹ƒà¸Šà¹‰ K3s à¹à¸šà¸šà¸£à¸±à¸™ Image à¹ƒà¸™à¸•à¸±à¸§/Local)*
    ```bash
    docker save link-dashboard:v1 | sudo k3s ctr images import -
    ```

---

## à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: à¸­à¸±à¸›à¹€à¸”à¸•à¹„à¸Ÿà¸¥à¹Œ Manifest à¹ƒà¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡ à¹à¸¥à¸° Push à¸‚à¸¶à¹‰à¸™ Git ðŸ“

à¹€à¸¡à¸·à¹ˆà¸­à¸„à¸¸à¸“à¸¡à¸µ Image à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¹ƒà¸«à¸¡à¹ˆ à¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¹„à¸Ÿà¸¥à¹Œ YAML à¹€à¸žà¸·à¹ˆà¸­à¸šà¸­à¸à¹ƒà¸«à¹‰ K3s à¸£à¸¹à¹‰à¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ Image à¸•à¸±à¸§à¹ƒà¸«à¸¡à¹ˆà¸™à¸µà¹‰

1.  **à¹à¸à¹‰à¹„à¸Ÿà¸¥à¹Œ `k3s/manifests.yaml`**:
    à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ `image: link-dashboard:latest` à¹€à¸›à¹‡à¸™ **`image: link-dashboard:v1`** (à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¸à¸±à¸šà¸—à¸µà¹ˆ Build)

2.  **à¸ªà¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ GitHub**:
    à¹€à¸žà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¹€à¸§à¸¥à¸²à¹€à¸£à¸²à¸ªà¸±à¹ˆà¸‡ Deploy à¸—à¸µà¹ˆà¸à¸±à¹ˆà¸‡ Server à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸°à¹„à¸”à¹‰à¸­à¸±à¸›à¹€à¸”à¸•à¸•à¸²à¸¡ Git
    ```bash
    git add k3s/manifests.yaml
    git commit -m "Update image to v1"
    git push origin pord
    ```

---

## à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¸ªà¸±à¹ˆà¸‡ Deploy à¸šà¸™ Server K3s ðŸš€

à¹„à¸›à¸—à¸µà¹ˆà¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡ Server (à¸—à¸µà¹ˆà¸¡à¸µ K3s) à¹à¸¥à¹‰à¸§à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸™à¸µà¹‰à¹€à¸žà¸·à¹ˆà¸­à¸”à¸¶à¸‡à¹„à¸Ÿà¸¥à¹Œà¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸ˆà¸²à¸ Git à¸¡à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸±à¸™à¸—à¸µ

```bash
kubectl apply -f https://raw.githubusercontent.com/Khomsan146/allexcel/pord/k3s/manifests.yaml
```

à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸™à¸µà¹‰à¸ˆà¸°:
1.  à¹„à¸›à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ `manifests.yaml` à¸ˆà¸²à¸ Branch `pord` à¸šà¸™ GitHub
2.  à¸­à¹ˆà¸²à¸™à¸„à¹ˆà¸² Config (à¸—à¸µà¹ˆà¹€à¸žà¸´à¹ˆà¸‡à¹à¸à¹‰à¹€à¸›à¹‡à¸™ v1)
3.  à¸ªà¸±à¹ˆà¸‡à¸­à¸±à¸›à¹€à¸”à¸• Pod à¹ƒà¸™ K3s à¹ƒà¸«à¹‰à¹€à¸›à¹‡à¸™à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¹ƒà¸«à¸¡à¹ˆ

### ðŸ”„ à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¸„à¸£à¸±à¹‰à¸‡à¸•à¹ˆà¸­à¹„à¸› (à¹€à¸¡à¸·à¹ˆà¸­à¹à¸à¹‰ Code)
1.  à¹à¸à¹‰ Code -> Build Image à¹ƒà¸«à¸¡à¹ˆ (à¹€à¸Šà¹ˆà¸™ v2) -> Import Image à¹€à¸‚à¹‰à¸² K3s
2.  à¹à¸à¹‰ `k3s/manifests.yaml` à¹€à¸›à¹‡à¸™ `image: link-dashboard:v2` -> Git Push
3.  à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹€à¸”à¸´à¸¡à¸‹à¹‰à¸³:
    ```bash
    kubectl apply -f https://raw.githubusercontent.com/Khomsan146/allexcel/pord/k3s/manifests.yaml
    ```
